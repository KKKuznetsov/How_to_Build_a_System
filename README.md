Всем привет!
Меня зовут Кирилл.

Я проработал 7 лет в аналитической компании, которая реализовывала различные проекты для фармацевтических компаний в сфере обработки данных.
Конкретно мой отдел занимался обработкой информации о продажах дистрибьюторов и аптечных сетей, с которыми заключали контракты фармацевтические компании.

Одновременно в работе находилось более 40 проектов для клиентов, включая таких гигантов, как Teva, Novartis, AstraZeneca, Petrovax, Sandoz, Alcon и других не менее крупных компаний. Все они работали на российском рынке и получали регулярную отчётность от дистрибьюторов и аптечных сетей о продажах, закупках, остатках и других показателях — в формате ежедневных, еженедельных и ежемесячных данных.

Первоначально вся эта отчётность передавалась нам через подключение к нашему SFTP-серверу, где была настроена структура папок для хранения данных. Позже для этих целей был разработан многофункциональный портал для передачи данных на сервер.

# Организация хранилища исходных данных

Первое, с чего стоит начать работу в подобном проекте, — это организация структуры хранения исходных данных.
В качестве примера я покажу, как такая структура папок организована на моём компьютере.

Предположим, мы хотим разделить данные, которые планируем обрабатывать, на две сущности:

- Дистрибьюторы — данные о поставках в различные точки страны.
- Сети — данные о тех, кто может перепродавать полученный от дистрибьюторов товар.

Эти сущности можно объединить под общим названием "Поставщики данных".

Решим первую задачу.
Как сгенерировать структуру папок из 14 тысяч папок по заданным параметрам
Решим с помощью Python.
Определяем корневую структуру, в нашем случае это папка поставщики данных, в которой есть папки Сети и Дистрибьюторы.
В ручном режим задаем годы, которые будут в каждой из папок, я возьму 2023,2024,2025
Далее определяем параметры:
- В каждой папке года может быть 12 месяцев
- В каждой папке месяц по 40 клиентов
- В каждом клиенте по 5 типов закупок

После того как папки созданы, клиент может загружать туда данные.
Обычно список клиентов, типов закупок и прочих параметров структуры согласовывается заранее и настраивается на основе справочников от самого клиента.
